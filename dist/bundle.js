(()=>{"use strict";var e,t=[[{suit:"clubs",rang:"6",src:"assets/6_крести.svg"},{suit:"clubs",rang:"7",src:"assets/7 крести.svg"},{suit:"clubs",rang:"8",src:"assets/8 крести.svg"},{suit:"clubs",rang:"9",src:"assets/9 крести.svg"},{suit:"clubs",rang:"10",src:"assets/10 крести.svg"},{suit:"clubs",rang:"jack",src:"assets/валет крести.svg"},{suit:"clubs",rang:"queen",src:"assets/дама крести.svg"},{suit:"clubs",rang:"king",src:"assets/король крести.svg"},{suit:"clubs",rang:"ace",src:"assets/туз крести.svg"},{suit:"spades",rang:"6",src:"assets/6 пики.svg"},{suit:"spades",rang:"7",src:"assets/7 пики.svg"},{suit:"spades",rang:"8",src:"assets/8 пики.svg"},{suit:"spades",rang:"9",src:"assets/9 пики.svg"},{suit:"spades",rang:"10",src:"assets/10 пики.svg"},{suit:"spades",rang:"jack",src:"assets/валет пики.svg"},{suit:"spades",rang:"queen",src:"assets/дама пики.svg"},{suit:"spades",rang:"king",src:"assets/король пики.svg"},{suit:"spades",rang:"ace",src:"assets/туз пики.svg"},{suit:"hearts",rang:"6",src:"assets/6 черви.svg"},{suit:"hearts",rang:"7",src:"assets/7 черви.svg"},{suit:"hearts",rang:"8",src:"assets/8 черви.svg"},{suit:"hearts",rang:"9",src:"assets/9 черви.svg"},{suit:"hearts",rang:"10",src:"assets/10 черви.svg"},{suit:"hearts",rang:"jack",src:"assets/валет черви.svg"},{suit:"hearts",rang:"queen",src:"assets/дама черви.svg"},{suit:"hearts",rang:"king",src:"assets/король черви.svg"},{suit:"hearts",rang:"туз черви",src:"assets/туз черви.svg"},{suit:"diamonds",rang:"6",src:"assets/6 бубны.svg"},{suit:"diamonds",rang:"7",src:"assets/7 бубны.svg"},{suit:"diamonds",rang:"8",src:"assets/8 бубны.svg"},{suit:"diamonds",rang:"9",src:"assets/9 бубны.svg"},{suit:"diamonds",rang:"10",src:"assets/10 бубны.svg"},{suit:"diamonds",rang:"jack",src:"assets/валет бубны.svg"},{suit:"diamonds",rang:"queen",src:"assets/дама бубны.svg"},{suit:"diamonds",rang:"king",src:"assets/король бубны.svg"},{suit:"diamonds",rang:"ace",src:"assets/туз бубны.svg"}],[{suit:"рубашка",src:"assets/рубашка.svg"}]],s=document.querySelector(".app");console.log("render"),window.application={blocks:{},screens:{},renderScreen:function(e){window.application.screens[e]?(s.innerHTML="",this.screens[e]()):console.warn("Такого экрана нет")},renderBlock:function(e,t){window.application.blocks[e]?this.blocks[e](t):console.warn("Такого блока нет")}},console.log("level pick"),window.application.blocks.levelsBlock=function(e){var t=document.createElement("div");t.classList.add("levels-box");var s=document.createElement("div");s.classList.add("level"),s.textContent="1",t.appendChild(s);var n=document.createElement("div");n.classList.add("level"),n.textContent="2",t.appendChild(n);var a=document.createElement("div");a.classList.add("level"),a.textContent="3",t.appendChild(a);var i=document.createElement("button");i.classList.add("levels-btn"),i.textContent="Старт",i.addEventListener("click",(function(){window.application.level?window.application.renderScreen("game"):console.warn("Выберите уровень")})),e.appendChild(t),e.appendChild(i)},window.application.screens.levels=function(){if(s.setAttribute("style","padding: 145px"),window.application.interval){var e=window.application.interval;clearInterval(e)}var t=document.createElement("div");t.classList.add("levels");var n,a,i=document.createElement("h1");i.classList.add("caption-main"),i.textContent="Выбери сложность",t.appendChild(i),window.application.renderBlock("levelsBlock",t),s.appendChild(t),n=document.querySelector(".levels-box"),a=document.querySelectorAll(".level"),n.addEventListener("click",(function(e){a.forEach((function(e){e.classList.remove("level-active")}));var t=e.target;t.classList.contains("levels-box")?t.classList.remove("level-active"):(t.classList.add("level-active"),window.application.level=t.textContent)}))},window.application.renderScreen("levels"),console.log("game"),window.application.interval=e,window.application.blocks.gameBlock=function(e){var s=document.createElement("div");s.classList.add("cards-box");var n=window.application.level,a=[];function i(n){for(var i=0;i<n;i++){var c=Math.floor(37*Math.random()),r=t[0][c];a.push(r)}var d=Object.assign([],a),l=a.concat(d);for(l.sort((function(){return Math.random()-.5})),window.application.deck=l,i=0;i<l.length;i++){var o=document.createElement("img"),p=l[i].src;o.setAttribute("src","".concat(p));var u=l[i].rang;o.setAttribute("value","".concat(u));var v=l[i].suit;o.setAttribute("title","".concat(v)),o.classList.add("card-item"),s.appendChild(o)}e.appendChild(s)}i("1"===n?"3":"2"===n?"6":"9")},window.application.blocks.timerBlock=function(e){var t=document.createElement("div");t.classList.add("timer-box");var s=document.createElement("div");s.classList.add("timer__numbers");var n=document.createElement("h1");n.textContent="00",n.classList.add("timer-minutes");var a=document.createElement("h1");a.textContent="00",a.classList.add("timer-seconds"),s.appendChild(n),s.appendChild(a);var i=document.createElement("div");i.classList.add("time-items");var c=document.createElement("h3");c.textContent="min",c.classList.add("timer-item");var r=document.createElement("h3");r.textContent="sec",r.classList.add("timer-item"),i.appendChild(c),i.appendChild(r),t.appendChild(i),t.appendChild(s),e.appendChild(t)},window.application.screens.game=function(){s.setAttribute("style","padding: 0");var t=document.createElement("button");t.textContent="Начать заново",t.classList.add("start-again-btn");var n=document.createElement("div");n.classList.add("upper-game-block"),window.application.renderBlock("timerBlock",n),n.appendChild(t),s.appendChild(n),t.addEventListener("click",(function(){clearInterval(e),window.application.renderScreen("levels"),s.setAttribute("style","padding: 145px")})),window.application.renderBlock("gameBlock",s);var a=document.querySelectorAll(".card-item");setTimeout((function(){for(var t=0;t<a.length;t++)a[t].setAttribute("src","assets/рубашка.svg");!function(){for(var t=0,s=0,n=0;n<a.length;n++)"assets/рубашка.svg"===a[n].getAttribute("src")&&(clearInterval(e),e=setInterval(i,1e3));function i(){var e=document.querySelector(".timer-seconds"),n=document.querySelector(".timer-minutes");if(++s<=9)e.textContent="0"+s;else if(s>9){var a=String(s);e.textContent=a}s>60&&(t++,n.textContent="0"+t,s=0,e.textContent="0"+s)}}()}),5e3),setTimeout((function(){var t=document.querySelector(".cards-box"),s=window.application.deck;t.addEventListener("click",(function(t){var n=t.target,a=n.getAttribute("value"),r=n.getAttribute("title"),d=document.querySelector(".timer-seconds"),l=document.querySelector(".timer-minutes");function o(){c.length+1===s.length?(p(),clearInterval(e),window.application.timerValue="".concat(l.textContent)+":"+"".concat(d.textContent),setTimeout((function(){window.application.gameStatus="win",window.application.renderScreen("gameEnd")}),500)):p()}function p(){for(var e=0;e<s.length;e++)s[e].rang===a&&s[e].suit===r&&(n.setAttribute("src",s[e].src),i.push(s[e]),c.push(s[e]));i.pop(),c.pop()}i.length<2?o():2===i.length&&(i[0]===i[1]?(i.length=0,o()):(p(),clearInterval(e),window.application.timerValue="".concat(l.textContent)+":"+"".concat(d.textContent),setTimeout((function(){window.application.gameStatus="lose",window.application.renderScreen("gameEnd")}),10)))}))}),5e3);var i=[],c=[]},console.log("game_end"),window.application.blocks.winBlock=function(e){var t=document.createElement("div");t.classList.add("pic-box");var s=document.createElement("img");s.setAttribute("src","assets/win.png"),e.appendChild(s),s.classList.add("end-pic");var n=document.createElement("h3");n.classList.add("final-caption"),n.textContent="Вы выиграли!",t.appendChild(s),t.appendChild(n),e.appendChild(t)},window.application.blocks.loseBlock=function(e){var t=document.createElement("div");t.classList.add("pic-box");var s=document.createElement("img");s.setAttribute("src","assets/lose.png"),e.appendChild(s),s.classList.add("end-pic");var n=document.createElement("h3");n.classList.add("final-caption"),n.textContent="Вы проиграли!",t.appendChild(s),t.appendChild(n),e.appendChild(t)},window.application.blocks.summaryBlock=function(e){var t=document.createElement("div");t.classList.add("timer-box-final");var s=document.createElement("h3");s.classList.add("final-text"),s.textContent="Затраченное время:",e.appendChild(s);var n=document.createElement("h1");n.classList.add("timer-final");var a=window.application.timerValue;n.textContent="".concat(a),e.appendChild(n);var i=document.createElement("button");i.classList.add("final-btn"),i.textContent="Играть снова",i.addEventListener("click",(function(){window.application.renderScreen("levels")})),t.appendChild(s),t.appendChild(n),e.appendChild(t),e.appendChild(i)},window.application.screens.gameEnd=function(){var e=document.createElement("div");e.classList.add("summary-box");var t=document.createElement("div");t.classList.add("result-box"),"win"===window.application.gameStatus?window.application.renderBlock("winBlock",t):window.application.renderBlock("loseBlock",t),window.application.renderBlock("summaryBlock",t),e.appendChild(t),s.appendChild(e)}})();